% ---------------------------------------- Packages requis -------------------------------------------------------------
\RequirePackage{ifthen} % Usage de conditionnelles en latex https://www.ctan.org/pkg/ifthen
\RequirePackage{xstring} % Rajoute plein de macros (et certaines conditionnelles) https://www.ctan.org/pkg/xstring
\RequirePackage{xargs} %Facilite la vie pour les arguments par défaut https://ctan.org/pkg/xargs
\RequirePackage{graphicx} % Gestion des arguments par défaut https://ctan.org/pkg/xargs


%* Sert à définir un auteur ou un encadrant dans un style correct
%* Usage : \auteur{prénom}{nom}
\newcommand{\auteur}[2]{#1 \textsc{#2} \\}




%* Racourci pour mon nom
\newcommand{\gdbdg}{\auteur{Guillaume}{de Bigault de Granrut}}



%usage : \header[logo left]{Titre}{nom}{prénom}[logo right]
%* En-tête de pied de page (via fanchdr)
%https://tex.stackexchange.com/questions/358329/why-is-rightmark-not-appearing-in-header : pourquoi \rightmark déconne
\newcommandx{\header}[5][1=null,5=null, usedefault]{
  \pagestyle{fancy} % Utilise le package fancyhdr, change le style de page pour utiliser celui de fancyheader, et activer les header

  % Header sup
  \fancyhead[L]{\nouppercase{\rightmark}} % Titre section en cour en haut à gauche
  \fancyhead[C]{#2\\ \textcolor{white}{e}} % Titre du document (milieu haut)
  \fancyhead[R]{ #3\\#4} % auteurs (en haut à droites)
  \renewcommand{\headrulewidth}{1pt} % épaisseur du trait du header supérieur

  % Header inf
  \fancyfoot[C]{Page \thepage/\pageref{LastPage}} % compteur de pages
  \ifthenelse{\equal{#1}{null}}{}{ % logo en bas à gauche
    \fancyfoot[L]{\includegraphics[width=1cm]{#1}}
  }
  \ifthenelse{\equal{#5}{null}}{}{ % logo en bas à droite
    \fancyfoot[R]{\includegraphics[width=1cm]{#5}} 
  }
  \renewcommand{\footrulewidth}{1pt} % épaisseur du trait du header inférieur
}

